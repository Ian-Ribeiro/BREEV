<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Solicitar uso — {{ environment.name }}</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
	<div class="container py-4">
		<h1 class="h5 mb-3">Solicitar uso: {{ environment.name }}</h1>

		{% if messages %}
			{% for message in messages %}
				<div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
					{{ message }}
					<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</div>
			{% endfor %}
		{% endif %}

		{% if form.non_field_errors %}
			<div class="alert alert-danger">{{ form.non_field_errors }}</div>
		{% endif %}

		<form method="post" novalidate>
			{% csrf_token %}

			<div class="mb-3">
				<label class="form-label">Ambiente</label>
				<p class="form-control-plaintext">{{ environment.name }} — {{ environment.get_type_display }}{% if environment.location %} — {{ environment.location }}{% endif %}</p>
			</div>

			<div class="mb-3">
				{{ form.request_for_date.label_tag }}
				{{ form.request_for_date|add_class:"form-control" }}
				{% for err in form.request_for_date.errors %}
					<div class="invalid-feedback d-block">{{ err }}</div>
				{% endfor %}
			</div>

			<div class="mb-3">
				{{ form.note.label_tag }}
				{{ form.note|add_class:"form-control" }}
				{% for err in form.note.errors %}
					<div class="invalid-feedback d-block">{{ err }}</div>
				{% endfor %}
			</div>

			<div class="d-flex gap-2">
				<button type="submit" class="btn btn-primary">Enviar pedido</button>
				<a href="{% url 'environment_detail' environment.pk %}" class="btn btn-outline-secondary">Cancelar</a>
			</div>
		</form>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
